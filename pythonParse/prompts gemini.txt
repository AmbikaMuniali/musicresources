voici un exemple de la page que je voulais parser. il s'agit d'une partition tonic solfa. les lignes utilisee sont d r m f s l t les alteration diese avec e bemol ave a 

les symboles utilisés : et | pour separer les temps,

│pour indiquer octave superieur ou inférieur : trouve la bonne place en fonction de la hauteur du symbole par raport à la note qu'elle modifie.

le point . permet des croches et la virgules des doubles croches. trouve un moyen de detecter si possible les { des systemes et les barres de mesures.



cette fois, je veux la sortie du fichier python en format json, stucture de maniere à être facilement converible en format musicxml

-------------------------------
peut revenir c'est a dire il y a un retour a la ligne des4 voix. ainsi une 5e ligne de note est toujour la premiere voix la 6e est toujours la 2e voix.

la premiere et 2e commencent à l'octave 4 pendant la 3e et la 4e voix sont a loctave 3. 

le symble | en indice ou en exposant permet d'índiquer lóctave superieur à loctave initiale de la voix

--------------------
│ : s │| .s │ s │ : ‒.d | t │ .d : d .d l │ : d | ‒.d : d .d d : ‒.s │ | t │ .t │
----------------------
je desire que tu genere d'abord une structure en forme table en colonne chaque texte trouve etant dans la colonne ligne et la colonne corespondant a ses coordonnee. met ca dans une dataframe.
 ensuite travaille sur le data frame : les lignes qui son distantes de moins de 5 sont de meme couleur. la coloration egalement du type de ligne: pour chaque ligne dit si c'est notes ou lyrics. 
genere un fichier html pour stoquer le dataframe inspire toi de l'exemple. ajoute une mise en forme qui impose la taille des celle proportionnelle a ses coordonnes. si  le texte est long fait ellipse.
genere ausssi un fichier json avec les memes fonctionnalité que dans le code donné
toujours 

-----------------
cree en html une page permettant d'éditer des partitions tonic solfa et d'exporter via la console.log sous format json la covertion de ces partitions en format midi afin de les ecouter

voici les fonctionnalite qui doivent etre presentes

1. utilise vue.js

2. la page doit etre stadalone cest à dire une seule page contient tout le code

3. la structure de la page est la suivante :

La page contients ces informations : Entete, partition et lyrics
a. Entetes
L'entete comprend en premiere ligne:
		- le numero de la partition à gauche mise en forme de titre principal
		- le titre de la partition au centre mise en forme de titre principal
		- l'indication de la gamme en haut à droite en gras 
la deuxieme ligne d'entete comprend :
		- les noms des auteurs.
		- le sous titre au centre en italique
		- le livre de reference à droite
La troisieme ligne d'entete comprend :
		- L'indication de mesure A gauche en gras 
		- L'indication de tempo à gauche egalement
		- L'indication de direction comme piano, pianissimo etc.
b. Partition
	La partition comprend par defaut quatre voix. il faut la possibilité d'ajouter ou supprimer une voix. et de choisir l'instrument qui doit jouer la voix
	la partition en elle meme est composee :
		- d'une liste de voix. ayant un nombre de mesures
			chaque mesure est comprise entre deux barres verticales de mesures
			chaque mesure a une duree
			chaque mesure a une liste de notes
			chaque note a une duree et une hauteur et une octave
			les hauteurs sont choisie dans la liste [d,de,r,re,m,f,fe,s,se,l,ta,t, ,-]
			un espace vide veut dire que la note est un silence.
			un tiret veux dire que la note est une prologation de celle qui la precede dans la partition
			un silence n'a pas d'octave ni de texte
			les octaves de la note sont indiqué par un exposant au dessus de la note concernée ou d'un indice. utiliser le symbole | pour un octave au dessus ou en dessous de l'octave par defaut.
			l'octave par defaut les deux premiere voix est 4 et 3 pour les deux dernieres.
			par defaut une note dure un temps
			les temps sont separé par des : si la mesure a 4 temps le troisieme temps commence par |
			un temps peux etre divise par deux demis temps separes par un . 
			un demis temps peux etre divisé en deux quart de temps separes par un ,


		- d'une liste de lyrics
			chaque texte est associe a une note d'une ou de plusieurs voix.
		- d'une liste de symboles d'exécution
	les 
c. Lyrics
c'est des textes mis en forme alignement et centrage pour completer les texte deja present dans la partition
un objet recoit le modele de toute la page
par defaut tous les elements de la page affichent comme du texte dans une bordure grise.
une fois on clique dessus apparait les fonctions de modification
dans l'affichage il faut s'assure que les notes, les textes les symboles commencant au meme moment soient aligné verticalement.
la barre de mesure est comme une bordure gauche pour toute la mesure
a la fin et au debut il y a une bordure speciale en forme de { ou }
l'édition de note est un select pour choisir la note, et un autre pour choisir l'octave entre -3,-2,-1,0,+1,+2, et +3.
une fois selectionné on quitte le mode edition et on affiche simplement la note et l'indice ou l'exposant correspondant à son octave
etudie dans un moyen d'utiliser les tableaux pour afficher les notes:
on peut suprimer une mesure entiere ou un seul temps en ajoutant


ajoute des instruction pour que l'utilisation de la page soit fluide et ressemble plus aux logiciel d'edition des partitions. pour la saisie de la mesure une select avec 3/4 4/4 2/4 3/8 6/8 9/8 2/2 3/2

------------------
 Je veux créer une application web interactive d'édition de partitions en notation "Tonic Solfa". L'application doit être une page HTML unique et autonome, utilisant Vue.js (CDN) pour le frontend.Objectifs principaux :Édition visuelle de partitions Tonic Solfa.Exportation de la structure de la partition en format JSON (affiché dans la console du navigateur) pour une conversion ultérieure en format MIDI.Structure et Contenu de la Page :Entête :Ligne 1 :Numéro de partition (titre principal, aligné à gauche).Titre de la partition (titre principal, centré).Indication de la gamme (en haut à droite, en gras).Ligne 2 :Noms des auteurs (aligné à gauche).Sous-titre (centré, en italique).Livre de référence (aligné à droite).Ligne 3 :Indication de mesure (en gras, aligné à gauche).Indication de tempo (aligné à gauche, sous la mesure).Indications de direction d'exécution (par exemple, "piano", "pianissimo", etc.).Partition :Par défaut, 4 voix sont affichées (Soprano, Alto, Tenor, Basse).Possibilité d'ajouter ou de supprimer des voix.Possibilité de sélectionner l'instrument pour chaque voix.Les voix sont rendues verticalement, avec les mesures alignées horizontalement.Chaque voix est composée d'une suite de mesures.Chaque mesure est encadrée par des barres de mesures verticales |.Les mesures sont regroupées en systèmes par des accolades { au début et } à la fin.Chaque mesure a une durée et contient une liste de notes.Chaque note possède une durée, une hauteur et une octave.Hauteurs : Les notes peuvent être : d, de, r, re, m, f, fe, s, se, l, ta, t.Silences et liaisons : Un espace ( ) représente un silence. Un tiret (-) prolonge la note précédente.Octaves : L'octave par défaut est 4 pour les deux premières voix et 3 pour les deux dernières. L'octave est indiquée par le symbole | en exposant pour une octave supérieure ou en indice pour une octave inférieure.Durée et rythme :Par défaut, chaque note dure une croche.Les temps sont séparés par des deux-points :.Un temps peut être divisé en deux demi-temps par un point ..Un demi-temps peut être divisé en deux quarts de temps par une virgule ,.Rendu visuel : Utiliser des tableaux HTML pour afficher les notes et les aligner verticalement. Les barres de mesure sont la bordure gauche des cellules.Lyrics :Les paroles sont un texte distinct de la partition.Premier couplet : Les paroles sont alignées avec les notes correspondantes directement sous la partition.Autres couplets : Une zone de texte séparée est prévue pour noter les autres couplets.Symboles d'exécution :Une liste de symboles d'exécution (piano, forte, etc.) peut être ajoutée et éditée.Fonctionnalités d'édition :Par défaut, tous les éléments (notes, paroles) sont affichés comme du texte dans une bordure grise.En cliquant sur une note, un mode d'édition s'active, affichant une liste déroulante pour la hauteur de la note et une autre pour l'octave (de -3 à +3).En dehors du mode d'édition, les notes sont affichées avec les symboles d'octave appropriés (| en exposant ou indice).Des boutons doivent permettre de supprimer une mesure entière ou un seul temps.Un menu déroulant pour la mesure (3/4, 4/4, 2/4, etc.) doit être présent.Aspect visuel :La page doit avoir un design soigné et moderne.Les éléments doivent être alignés verticalement pour une lisibilité parfaite, comme sur une vraie partition.